# generic-rat

NOTE: None of this README is AI-generated.

If you'd like to help contribute, please check the desired fix under point 2 in "Goal" below under "fix needed", or review the javascript in `index.html`. 

Of course, any feedback is welcome, but the main focus in on making sure the javascript glue for file I/O works correctly.

## Intro

This is a proof of concept for file uploads into a ratzilla application using some javascript glue.

## To Run

To run the application, you can clone the repo and serve with trunk:

```bash
git clone git@github.com:josephleblanc/generic-rat.git
cd git@github.com:josephleblanc/generic-rat.git
trunk serve
```

### Keybinds (for testing)

| Key | Behavior |
| -------------- | --------------- |
| left/right arrow | decrement/increment counter |
| `l` | load sample file stored on server from `assets/sample.txt` |
| `u` | prompt user to select local folder to upload |


### Note Re: JavaScript
All the JavaScript here is generated by GPT-5, so it needs human review from someone who knows JavaScript. See [index.html](./index.html)

## Goal

The goal is to have a basic implementation of a virtual filesystem with read capability for some in-memory rust project files. We plan to use this approach in the main project for the webassembly build of a terminal-based LLM-assisted coding application, which you can see in its on github repo [ploke](https://github.com/josephleblanc/ploke).

This project should:

1. upload a pre-set file (as if from a file-system local to the server)
  - [x] press `l` to load local file `assets/sample.txt`
  - [x] hardcoded in `index.html` as being made available.

2. upload a user-defiled folder, selecting only those files relevant to Rust development and skipping binaries + build artifacts (e.g. `/target` files)
  - [x] press `u` to upload a target folder
  - [x] only uploads rust-relevent files, see filters in `index.html` javascript
  - [ ] **fix needed**: Currently prompts user to select folder, but when prompted to allow site to load folder, user is asked to allow the unfiltered list of files (e.g. a typical rust project might have hundreds/thousands of build artifacts). This is a somewhat alarming experience, and we want it to just prompt the user with the number of filtered files in the folder that will be uploaded.

3. ensure there are no glaring issues
  - [x] increment/decrement counter works before/after uploading server-local files
  - [x] counter works before/after uploading user-defined folder
  - [x] only stores in-memory files for the file extensions needed for Rust projects (`.rs`, `.toml`) 
  - [x] also stores basic files typical of a git project (but not including git tracking files) such as `.md`, `LICENSE`
  - [x] show some characters from loaded files for verification

## Credits

This is (started as) a [Ratzilla] app generated by the [Simple Template].

[Ratzilla]: https://github.com/orhun/ratzilla
[Simple Template]: https://github.com/orhun/ratzilla/tree/main/templates/simple

## License

Copyright (c) Joseph LeBlanc <joseph.t.leblanc@protonmail.com>

This project is licensed under the MIT license ([LICENSE] or <http://opensource.org/licenses/MIT>)

[LICENSE]: ./LICENSE
